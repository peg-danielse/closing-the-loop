# --- START: seq=0 ---

apiVersion: v1
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving
data:
  max-scale-up-rate: "1000.0" # Default: 1000.0
  max-scale-down-rate: "2.0" # Default: 2.0
  scale-to-zero-pod-retention-period: "0s"
  scale-to-zero-grace-period: "30s"
  enable-scale-to-zero: "true" # true, false

---

{'max_throughput': 0, 'total_errors': 0, 'total_anomaly_count': 0, 'changed_service_anomaly_count': 0, 'service_max_cpu_usage': 0.0, 'total_max_cpu_usage': 0.0}

# --- END: seq=0 ---# --- START: seq=1 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 166.9, 'total_errors': 51569, 'total_anomaly_count': 30, 'changed_service_anomaly_count': 9, 'service_max_cpu_usage': 0.0163985909727836, 'total_max_cpu_usage': 0.7077836652750207, 'service_names': ['srv-reservation', 'config-autoscaler']}
# --- END: seq=1 ---

# --- START: seq=2 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 156.2, 'total_errors': 12626, 'total_anomaly_count': 14, 'changed_service_anomaly_count': 4, 'service_max_cpu_usage': 2.9809310468538346, 'total_max_cpu_usage': 'nan', 'service_names': ['srv-rate', 'config-autoscaler']}
# --- END: seq=2 ---

# --- START: seq=3 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 142.8, 'total_errors': 17437, 'total_anomaly_count': 24, 'changed_service_anomaly_count': 6, 'service_max_cpu_usage': 2.5378447802868007, 'total_max_cpu_usage': 'nan', 'service_names': ['srv-rate', 'config-autoscaler']}
# --- END: seq=3 ---

# --- START: seq=4 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 142.8, 'total_errors': 17437, 'total_anomaly_count': 24, 'changed_service_anomaly_count': 6, 'service_max_cpu_usage': 2.5378447802868007, 'total_max_cpu_usage': 'nan', 'service_names': ['srv-rate', 'config-autoscaler']}
# --- END: seq=4 ---

# --- START: seq=5 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 142.8, 'total_errors': 17437, 'total_anomaly_count': 24, 'changed_service_anomaly_count': 6, 'service_max_cpu_usage': 2.5378447802868007, 'total_max_cpu_usage': 'nan', 'service_names': ['srv-rate', 'config-autoscaler']}
# --- END: seq=5 ---

# --- START: seq=6 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 154.9, 'total_errors': 16650, 'total_anomaly_count': 18, 'changed_service_anomaly_count': 11, 'service_max_cpu_usage': 0.3128798617888142, 'total_max_cpu_usage': 5.300291821201992, 'service_names': ['srv-reservation', 'config-autoscaler']}
# --- END: seq=6 ---

# --- START: seq=7 ---
apiVersion: v1
data:
  enable-scale-to-zero: 'true'
  max-scale-down-rate: '2.0'
  max-scale-up-rate: '1000.0'
  scale-to-zero-grace-period: 30s
  scale-to-zero-pod-retention-period: 0s
kind: ConfigMap
metadata:
  name: config-autoscaler
  namespace: knative-serving

---
{'max_throughput': 154.9, 'total_errors': 16650, 'total_anomaly_count': 18, 'changed_service_anomaly_count': 11, 'service_max_cpu_usage': 0.3128798617888142, 'total_max_cpu_usage': 5.300291821201992, 'service_names': ['srv-reservation', 'config-autoscaler']}
# --- END: seq=7 ---

